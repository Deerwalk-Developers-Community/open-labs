---
import GraduationHatSVG from "#assets/icons/graduation_hat.svg";
import GithubSVG from "#assets/icons/github.svg";
import PullRequestSVG from "#assets/icons/pr.svg";
import OpenSourceSVG from "#assets/icons/oss.svg";
import Button from "#components/Button.astro";

const features = [
  {
    title: "University-Specific Structure",
    icon: GraduationHatSVG,
  },
  {
    title: "Github Powered Contributions",
    icon: GithubSVG,
  },
  {
    title: "Request Lab Work",
    icon: PullRequestSVG,
  },
  {
    title: "Open Source and Free",
    icon: OpenSourceSVG,
  },
];
---

<main class="">
  <div class="flex flex-col m-7 gap-3 md:m-10 font-primary md:items-center md:mt-20 ">
    <p class="text-l">&#9899; ddc/oss</p>
    <div class="flex flex-col mt-3 md:flex-row md:gap-2">
      <h1 class="md:text-5xl text-4xl font-black text-main-blue tracking-normal">
        Simplify Lab Work.
      </h1>
      <h1 class="md:text-5xl text-4xl font-bold text-main-blue tracking-normal">
        Amplify Learning.
      </h1>
    </div>
    <p
      class="text-m max-w-[95%] font-primary md:w-130 md:text-center text-main-blue md:text-l md:text-center"
    >
      Open Labs Nepal connects students across universities, enabling them to
      upload, browse, and collaborate on lab work efficiently.
    </p>
    <div class="flex flex-col gap-2 md:flex-row">
      <Button
        text="View Lab Work"
        type="button"
        variant="primary"
        className="h-12 w-full md:w-50 "
        id="view-lab-button"
      />
      <Button
        text="Contribute"
        type="button"
        variant="landing-button"
        className="h-12 w-full md:w-50"
        id="contribute-button"
      />
    </div>
    <div
      class="flex flex-col gap-2 mt-3 md:grid md:grid-cols-2 md:text-sm md:mt-5"
    >
      {
        features.map((feature) => (
          <div class="flex gap-2 items-center">
            <feature.icon />
            <h2 class="text-l">{feature.title}</h2>
          </div>
        ))
      }
    </div>
  </div>
</main>

<script type="module">
  document.getElementById("view-lab-button")?.addEventListener("click", () => {
    const currentUrl = window.location;
    if (currentUrl[-1] == "/") {
      window.location.assign(`${window.location}universities`);
    } else {
      window.location.assign(`${window.location}/universities`);
    }
  });

  document
    .getElementById("contribute-button")
    ?.addEventListener("click", () => {
      const currentUrl = window.location;
      if (currentUrl[-1] == "/") {
        window.location.assign(`${window.location}contribute`);
      } else {
        window.location.assign(`${window.location}/contribute`);
      }
    });
</script>
